<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel | Lumina by Nanscia</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Cormorant+Garamond:ital,wght@0,300;0,400;0,500;0,600;1,300;1,400&family=Montserrat:wght@300;400;500;600&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="admin.css">
</head>
<body>
    <!-- Login Screen -->
    <div class="login-screen" id="login-screen">
        <div class="login-card">
            <div class="login-header">
                <span class="login-logo">Lumina</span>
                <span class="login-sub">Admin Panel</span>
            </div>
            <form class="login-form" id="login-form">
                <div class="form-group">
                    <input type="email" id="email" placeholder="Email" required>
                </div>
                <div class="form-group">
                    <input type="password" id="password" placeholder="Password" required>
                </div>
                <p class="login-error" id="login-error"></p>
                <button type="submit" class="btn btn-primary">Access Dashboard</button>
            </form>
        </div>
    </div>

    <!-- Admin Dashboard -->
    <div class="admin-dashboard" id="admin-dashboard">
        <!-- Sidebar -->
        <aside class="sidebar">
            <div class="sidebar-header">
                <span class="sidebar-logo">Lumina</span>
                <span class="sidebar-sub">Admin</span>
            </div>
            <nav class="sidebar-nav">
                <a href="#" class="sidebar-link active" data-section="photos">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <path d="M21 15l-5-5L5 21"/>
                    </svg>
                    Photos
                </a>
                <a href="#" class="sidebar-link" data-section="hero">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M12 2L2 7l10 5 10-5-10-5z"/>
                        <path d="M2 17l10 5 10-5M2 12l10 5 10-5"/>
                    </svg>
                    Hero Images
                </a>
                <a href="#" class="sidebar-link" data-section="categories">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M22 19a2 2 0 01-2 2H4a2 2 0 01-2-2V5a2 2 0 012-2h5l2 3h9a2 2 0 012 2z"/>
                    </svg>
                    Categories
                </a>
                <a href="#" class="sidebar-link" data-section="settings">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <circle cx="12" cy="12" r="3"/>
                        <path d="M12 1v2m0 18v2M4.22 4.22l1.42 1.42m12.72 12.72l1.42 1.42M1 12h2m18 0h2M4.22 19.78l1.42-1.42M18.36 5.64l1.42-1.42"/>
                    </svg>
                    Settings
                </a>
            </nav>
            <div class="sidebar-footer">
                <a href="index.html" class="sidebar-link view-site">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M18 13v6a2 2 0 01-2 2H5a2 2 0 01-2-2V8a2 2 0 012-2h6"/>
                        <path d="M15 3h6v6"/>
                        <path d="M10 14L21 3"/>
                    </svg>
                    View Website
                </a>
                <button class="sidebar-link logout" id="logout-btn">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                        <path d="M9 21H5a2 2 0 01-2-2V5a2 2 0 012-2h4"/>
                        <path d="M16 17l5-5-5-5"/>
                        <path d="M21 12H9"/>
                    </svg>
                    Logout
                </button>
            </div>
        </aside>

        <!-- Main Content -->
        <main class="main-content">
            <!-- Loading Overlay -->
            <div class="loading-overlay" id="loading-overlay">
                <div class="loading-spinner"></div>
                <span>Loading...</span>
            </div>

            <!-- Photos Section -->
            <section class="content-section active" id="photos-section">
                <div class="section-header">
                    <div>
                        <h1>Photo Gallery</h1>
                        <p>Manage your portfolio photos <span class="cloud-badge">Cloud Storage</span></p>
                    </div>
                    <button class="btn btn-primary" id="upload-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                            <path d="M17 8l-5-5-5 5"/>
                            <path d="M12 3v12"/>
                        </svg>
                        Upload Photos
                    </button>
                </div>

                <!-- Upload Area -->
                <div class="upload-area" id="upload-area">
                    <div class="upload-zone" id="upload-zone">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                            <path d="M17 8l-5-5-5 5"/>
                            <path d="M12 3v12"/>
                        </svg>
                        <p>Drag and drop photos here</p>
                        <span>or</span>
                        <label class="btn btn-secondary">
                            Browse Files
                            <input type="file" id="file-input" multiple accept="image/*" hidden>
                        </label>
                        <p class="upload-hint">Supports: JPG, PNG, WebP (Max 10MB each)</p>
                    </div>

                    <!-- Upload Preview -->
                    <div class="upload-preview" id="upload-preview">
                        <h3>Ready to Upload</h3>
                        <div class="preview-grid" id="preview-grid"></div>
                        <div class="upload-progress" id="upload-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progress-fill"></div>
                            </div>
                            <span class="progress-text" id="progress-text">Uploading...</span>
                        </div>
                        <div class="upload-actions" id="upload-actions">
                            <button class="btn btn-secondary" id="cancel-upload">Cancel</button>
                            <button class="btn btn-primary" id="confirm-upload">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" style="width:18px;height:18px;">
                                    <path d="M21 15v4a2 2 0 01-2 2H5a2 2 0 01-2-2v-4"/>
                                    <path d="M17 8l-5-5-5 5"/>
                                    <path d="M12 3v12"/>
                                </svg>
                                Upload to Cloud
                            </button>
                        </div>
                    </div>
                </div>

                <!-- Photo Grid -->
                <div class="photo-grid" id="photo-grid">
                    <!-- Photos will be loaded here -->
                </div>

                <!-- Empty State -->
                <div class="empty-state" id="empty-state">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                        <circle cx="8.5" cy="8.5" r="1.5"/>
                        <path d="M21 15l-5-5L5 21"/>
                    </svg>
                    <h3>No photos yet</h3>
                    <p>Upload your first photo to get started</p>
                    <button class="btn btn-primary" id="empty-upload-btn">Upload Photos</button>
                </div>
            </section>

            <!-- Hero Images Section -->
            <section class="content-section" id="hero-section">
                <div class="section-header">
                    <div>
                        <h1>Hero Images</h1>
                        <p>Upload 3 stunning images for your homepage hero section</p>
                    </div>
                </div>

                <div class="hero-upload-container">
                    <div class="hero-slot" data-slot="1">
                        <div class="hero-slot-inner" id="hero-slot-1">
                            <div class="hero-placeholder">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                    <circle cx="8.5" cy="8.5" r="1.5"/>
                                    <path d="M21 15l-5-5L5 21"/>
                                </svg>
                                <p>Hero Image 1</p>
                                <span>Main Image (Front)</span>
                                <label class="btn btn-secondary btn-small">
                                    Upload
                                    <input type="file" class="hero-file-input" data-slot="1" accept="image/*" hidden>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="hero-slot" data-slot="2">
                        <div class="hero-slot-inner" id="hero-slot-2">
                            <div class="hero-placeholder">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                    <circle cx="8.5" cy="8.5" r="1.5"/>
                                    <path d="M21 15l-5-5L5 21"/>
                                </svg>
                                <p>Hero Image 2</p>
                                <span>Middle Image</span>
                                <label class="btn btn-secondary btn-small">
                                    Upload
                                    <input type="file" class="hero-file-input" data-slot="2" accept="image/*" hidden>
                                </label>
                            </div>
                        </div>
                    </div>

                    <div class="hero-slot" data-slot="3">
                        <div class="hero-slot-inner" id="hero-slot-3">
                            <div class="hero-placeholder">
                                <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                                    <rect x="3" y="3" width="18" height="18" rx="2" ry="2"/>
                                    <circle cx="8.5" cy="8.5" r="1.5"/>
                                    <path d="M21 15l-5-5L5 21"/>
                                </svg>
                                <p>Hero Image 3</p>
                                <span>Background Image</span>
                                <label class="btn btn-secondary btn-small">
                                    Upload
                                    <input type="file" class="hero-file-input" data-slot="3" accept="image/*" hidden>
                                </label>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="hero-tips">
                    <h3>ðŸ’¡ Tips for Best Results</h3>
                    <ul>
                        <li><strong>Image 1 (Front):</strong> Your best portrait or signature shot - this is the most prominent</li>
                        <li><strong>Image 2 (Middle):</strong> A complementary image that adds depth</li>
                        <li><strong>Image 3 (Background):</strong> A subtle background image for atmosphere</li>
                        <li><strong>Resolution:</strong> Use high-quality images (at least 1200px wide)</li>
                        <li><strong>Format:</strong> JPG or PNG recommended</li>
                    </ul>
                </div>
            </section>

            <!-- Categories Section -->
            <section class="content-section" id="categories-section">
                <div class="section-header">
                    <div>
                        <h1>Categories</h1>
                        <p>Organize your photos into categories</p>
                    </div>
                    <button class="btn btn-primary" id="add-category-btn">
                        <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"/>
                            <line x1="5" y1="12" x2="19" y2="12"/>
                        </svg>
                        Add Category
                    </button>
                </div>

                <div class="categories-list" id="categories-list">
                    <!-- Categories will be loaded here -->
                </div>
            </section>

            <!-- Settings Section -->
            <section class="content-section" id="settings-section">
                <div class="section-header">
                    <div>
                        <h1>Settings</h1>
                        <p>Configure your admin panel</p>
                    </div>
                </div>

                <div class="settings-card">
                    <h3>Account</h3>
                    <p>Logged in as: <strong id="user-email">-</strong></p>
                    <button class="btn btn-secondary" id="reset-password-btn">Send Password Reset Email</button>
                </div>

                <div class="settings-card info">
                    <h3>Storage Info</h3>
                    <p>Photos are stored securely in Cloudinary Cloud Storage with automatic optimization.</p>
                    <div class="storage-info">
                        <div class="storage-item">
                            <span class="storage-label">Total Photos:</span>
                            <span class="storage-value" id="total-photos">0</span>
                        </div>
                        <div class="storage-item">
                            <span class="storage-label">Free Tier:</span>
                            <span class="storage-value">25GB</span>
                        </div>
                    </div>
                </div>

                <div class="settings-card danger">
                    <h3>Danger Zone</h3>
                    <p>Permanently delete all photos from the gallery. This cannot be undone.</p>
                    <button class="btn btn-danger" id="clear-all-btn">Clear All Photos</button>
                </div>
            </section>
        </main>
    </div>

    <!-- Edit Photo Modal -->
    <div class="modal" id="edit-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2>Edit Photo</h2>
                <button class="modal-close" id="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="edit-preview">
                    <img id="edit-preview-img" src="" alt="Preview">
                </div>
                <form id="edit-form">
                    <input type="hidden" id="edit-photo-id">
                    <input type="hidden" id="edit-public-id">
                    <div class="form-group">
                        <label for="edit-title">Title</label>
                        <input type="text" id="edit-title" required>
                    </div>
                    <div class="form-group">
                        <label for="edit-category">Category</label>
                        <select id="edit-category" required>
                            <!-- Categories loaded dynamically -->
                        </select>
                    </div>
                    <div class="form-group">
                        <label for="edit-size">Display Size</label>
                        <select id="edit-size">
                            <option value="normal">Normal</option>
                            <option value="tall">Tall (2 rows)</option>
                            <option value="wide">Wide (2 columns)</option>
                        </select>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-danger" id="delete-photo-btn">Delete Photo</button>
                <button class="btn btn-primary" id="save-photo-btn">Save Changes</button>
            </div>
        </div>
    </div>

    <!-- Add Category Modal -->
    <div class="modal" id="category-modal">
        <div class="modal-content modal-small">
            <div class="modal-header">
                <h2>Add Category</h2>
                <button class="modal-close" id="category-modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <form id="category-form">
                    <div class="form-group">
                        <label for="category-name">Category Name</label>
                        <input type="text" id="category-name" placeholder="e.g., Fashion" required>
                    </div>
                </form>
            </div>
            <div class="modal-footer">
                <button class="btn btn-secondary" id="cancel-category">Cancel</button>
                <button class="btn btn-primary" id="save-category">Add Category</button>
            </div>
        </div>
    </div>

    <!-- Toast Notification -->
    <div class="toast" id="toast">
        <span class="toast-message"></span>
    </div>

    <script type="module" src="admin-firebase.js"></script>
</body>
</html>
